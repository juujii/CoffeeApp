# CoffeeApp

CoffeeApp is a python application intended to fetch information about each months coffee from the [Assembly Coffee Flavour Index subsription](https://assemblycoffee.co.uk/pages/subscription-the-flavour-index), store it in a Notion database, and send an email via Amazon Simple Email Service (SES). The application uses ChatGPT to fetch the following pieces of information:

- Coffee name
- Producer
- Country
- Region
- Farm
- Variety
- Terroir
- Process
- An intersting fact about coffee production in the country (generated by ChatGPT)

The application is intended to be run in AWS Lambda, and in my case runs on a month schedule driven by an Amazon EventBridge Schedule, in line with the coffee subscription cadence. 

## Installation

1. Clone the repository:
    ```sh
    git clone https://github.com/juujii/coffeeapp.git
    cd coffeeapp
    ```

2. Install the required dependencies:
    ```sh
    pip install -r requirements.txt
    ```

## Environment Variables

The application requires the following environment variables to be set:

- `NOTION_TOKEN`: Your Notion integration token.
- `NOTION_DATABASE_ID`: The ID of the Notion database where the data will be stored.
- `OPENAI_API_KEY`: Your OpenAI API key.
- `SENDER_EMAIL`: The email address from which notifications will be sent.
- `RECIPIENT_EMAIL_1`: The first recipient email address.
- `RECIPIENT_EMAIL_2`: The second recipient email address.

## Usage

1. Ensure all required environment variables are set.
2. Run the application:
    ```sh
    python coffeeapp.py
    ```

## License

This project is licensed under the MIT License. See the LICENSE file for details.